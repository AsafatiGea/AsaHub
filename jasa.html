<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jasa & Pekerjaan - AsaHub</title>
    <link rel="icon" type="image/png" href="img/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- CSS Modular -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/jasa.css">
    <link rel="stylesheet" href="css/responsive-mobile.css">
    <link rel="stylesheet" href="css/responsive-desktop.css">
</head>
<body>

<!-- Navigation -->
<nav class="navbar">
    <div class="nav-container">
        <a href="index.html" class="nav-logo">Asa<span>Hub</span></a>
        <div class="nav-links">
            <a href="index.html">Marketplace</a>
            <a href="jasa.html" class="active">Jasa</a>
            <a href="edukasi.html">Edukasi</a>
            <a href="komunitas.html">Komunitas</a>
            <a href="tentang.html">Tentang</a>
        </div>
        <div class="nav-auth" id="navAuth">
            <a href="login.html" class="btn btn-outline">Masuk</a>
            <a href="daftar.html" class="btn btn-primary">Daftar</a>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="jasa-hero">
    <div class="jasa-hero-content">
        <h1 class="jasa-title">Platform Jasa & Pekerjaan</h1>
        <p class="jasa-subtitle">Temukan tenaga ahli dan profesional, atau tawarkan keahlianmu sendiri</p>
        <a href="daftar.html" class="jasa-cta">Daftar Sebagai Penyedia Jasa</a>
    </div>
</section>

<!-- Categories Section -->
<section class="jasa-categories">
    <div class="jasa-categories-content">
        <div class="jasa-categories-grid">
            <div class="jasa-category-card active" onclick="filterByCategory('all')">
                <div class="jasa-category-icon">ğŸ› ï¸</div>
                <div class="jasa-category-name">Semua Jasa</div>
                <div class="jasa-category-count" id="countAll">0</div>
            </div>
            <div class="jasa-category-card" onclick="filterByCategory('otomotif')">
                <div class="jasa-category-icon">ğŸ”§</div>
                <div class="jasa-category-name">Otomotif</div>
                <div class="jasa-category-count" id="countOtomotif">0</div>
            </div>
            <div class="jasa-category-card" onclick="filterByCategory('konstruksi')">
                <div class="jasa-category-icon">ğŸ—ï¸</div>
                <div class="jasa-category-name">Konstruksi</div>
                <div class="jasa-category-count" id="countKonstruksi">0</div>
            </div>
            <div class="jasa-category-card" onclick="filterByCategory('teknologi')">
                <div class="jasa-category-icon">ğŸ’»</div>
                <div class="jasa-category-name">Teknologi</div>
                <div class="jasa-category-count" id="countTeknologi">0</div>
            </div>
            <div class="jasa-category-card" onclick="filterByCategory('kreatif')">
                <div class="jasa-category-icon">ğŸ¨</div>
                <div class="jasa-category-name">Kreatif</div>
                <div class="jasa-category-count" id="countKreatif">0</div>
            </div>
            <div class="jasa-category-card" onclick="filterByCategory('rumah-tangga')">
                <div class="jasa-category-icon">ğŸ </div>
                <div class="jasa-category-name">Rumah Tangga</div>
                <div class="jasa-category-count" id="countRumahTangga">0</div>
            </div>
            <div class="jasa-category-card" onclick="filterByCategory('pendidikan')">
                <div class="jasa-category-icon">ğŸ“š</div>
                <div class="jasa-category-name">Pendidikan</div>
                <div class="jasa-category-count" id="countPendidikan">0</div>
            </div>
            <div class="jasa-category-card" onclick="filterByCategory('lainnya')">
                <div class="jasa-category-icon">ğŸ“¦</div>
                <div class="jasa-category-name">Lainnya</div>
                <div class="jasa-category-count" id="countLainnya">0</div>
            </div>
        </div>
    </div>
</section>

<!-- Services Layout -->
<div class="services-layout">
    <!-- Services Sidebar (Desktop) -->
    <aside class="services-sidebar desktop-only">
        <div class="filter-section">
            <div class="filter-header">
                <h3 class="filter-title">Filter Harga</h3>
                <button class="filter-clear" onclick="clearFilters()">Reset</button>
            </div>
            <div class="price-range">
                <div class="price-inputs">
                    <input type="number" class="price-input" placeholder="Min" id="minPrice" onchange="filterServices()">
                    <span class="price-separator">-</span>
                    <input type="number" class="price-input" placeholder="Max" id="maxPrice" onchange="filterServices()">
                </div>
            </div>
        </div>

        <div class="filter-section">
            <div class="filter-header">
                <h3 class="filter-title">Lokasi</h3>
            </div>
            <div class="filter-options">
                <div class="filter-option">
                    <input type="checkbox" id="loc-online" value="online" onchange="filterServices()">
                    <label for="loc-online">Online</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="loc-medan" value="medan" onchange="filterServices()">
                    <label for="loc-medan">Medan</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="loc-padang" value="padang" onchange="filterServices()">
                    <label for="loc-padang">Padang</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="loc-nias" value="nias" onchange="filterServices()">
                    <label for="loc-nias">Nias</label>
                </div>
            </div>
        </div>
    </aside>

    <!-- Services Main -->
    <main class="services-main">
        <!-- Services Header -->
        <div class="services-header">
            <h2 class="services-title">Jasa Tersedia</h2>
            <div class="services-controls">
                <div class="services-search">
                    <div class="search-bar">
                        <span class="search-icon">ğŸ”</span>
                        <input type="text" class="search-input" placeholder="Cari jasa..." id="searchInput" onkeyup="filterServices()">
                    </div>
                </div>
                <select class="form-select services-sort" id="sortSelect" onchange="sortServices()">
                    <option value="newest">Terbaru</option>
                    <option value="price-low">Harga Terendah</option>
                    <option value="price-high">Harga Tertinggi</option>
                    <option value="popular">Terpopuler</option>
                </select>
            </div>
        </div>

        <!-- Services Grid -->
        <div class="services-grid" id="servicesGrid">
            <!-- Services will be loaded dynamically from Supabase -->
        </div>

        <!-- Loading State -->
        <div class="services-loading" id="loadingState" style="display: none;">
            <div class="service-skeleton">
                <div class="service-header">
                    <div class="service-icon">ğŸ› ï¸</div>
                    <div class="service-type">Loading...</div>
                </div>
                <div class="service-body">
                    <div class="service-title">Loading...</div>
                    <div class="service-description">Loading...</div>
                </div>
                <div class="service-footer">
                    <div class="service-price">Loading...</div>
                </div>
            </div>
        </div>

        <!-- No Services -->
        <div class="no-services" id="noServices" style="display: none;">
            <div class="no-services-icon">ğŸ› ï¸</div>
            <h3 class="no-services-title">Belum Ada Jasa Tersedia</h3>
            <p class="no-services-text">Admin atau penyedia jasa belum menambahkan jasa apa pun. Silakan kembali lagi nanti atau daftar sebagai penyedia jasa.</p>
            <a href="daftar.html" class="no-services-action">Daftar Sebagai Penyedia Jasa</a>
        </div>
    </main>
</div>

<!-- Service Detail Modal -->
<div class="modal" id="serviceModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title" id="modalTitle">Detail Jasa</h3>
            <button class="modal-close" onclick="closeServiceModal()">&times;</button>
        </div>
        <div class="modal-body" id="modalBody">
            <!-- Service details will be loaded here -->
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeServiceModal()">Tutup</button>
            <a href="#" class="btn btn-primary" id="modalContactButton" target="_blank">Hubungi Penyedia</a>
        </div>
    </div>
</div>

<!-- Mobile Bottom Navigation -->
<nav class="mobile-bottom-nav mobile-only">
    <a href="index.html" class="mobile-nav-item">
        <i class="fas fa-home"></i>
    </a>
    <a href="jasa.html" class="mobile-nav-item active">
        <i class="fas fa-briefcase"></i>
    </a>
    <a href="edukasi.html" class="mobile-nav-item">
        <i class="fas fa-graduation-cap"></i>
    </a>
    <a href="komunitas.html" class="mobile-nav-item">
        <i class="fas fa-users"></i>
    </a>
    <a href="tentang.html" class="mobile-nav-item">
        <i class="fas fa-info-circle"></i>
    </a>
    <a href="login.html" class="mobile-nav-item" id="mobileAccount">
        <i class="fas fa-user"></i>
    </a>
</nav>

<!-- Footer -->
<footer class="footer">
    <div class="footer-top">
        <div class="footer-brand">
            <div class="nav-logo" style="font-size:24px;">Asa<span>Hub</span></div>
            <p>Pusat Harapan â€” Menyatukan individu dan brand dalam ekosistem bisnis yang stabil dan berkembang.</p>
        </div>
        <div class="footer-links">
            <div class="footer-col">
                <h4>Platform</h4>
                <a href="index.html">Marketplace</a>
                <a href="jasa.html">Jasa & Kerja</a>
                <a href="edukasi.html">Edukasi</a>
            </div>
            <div class="footer-col">
                <h4>Akun</h4>
                <a href="daftar.html">Daftar Penjual</a>
                <a href="login.html">Masuk</a>
                <a href="dasboard.html">Dashboard</a>
            </div>
            <div class="footer-col">
                <h4>AsaHub</h4>
                <a href="tentang.html">Tentang Kami</a>
                <a href="#" title="Segera hadir">Kontak</a>
                <a href="#" title="Segera hadir">Kebijakan Privasi</a>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <p> 2026 AsaHub Â· asahub.site Â· Dibuat dengan â¤ï¸ oleh Asafati Gea</p>
    </div>
</footer>

<!-- Scripts -->
<script src="js/supabase.js"></script>
<script src="js/auth.js"></script>
<script src="js/jasa-manager.js"></script>

<script>
// Mobile Menu Toggle
function toggleMenu() {
    document.getElementById('mobileMenu').classList.toggle('open');
}

// Check user login status
var user = JSON.parse(localStorage.getItem('asahub_current_user') || 'null');
if (user) {
    // Update desktop nav
    document.getElementById('navAuth').innerHTML = '<a href="dasboard.html" class="btn btn-primary">Dashboard</a>';
    
    // Update mobile menu
    var mobileAuthLinks = document.querySelectorAll('#mobileMenu a[href="login.html"], #mobileMenu a[href="daftar.html"]');
    mobileAuthLinks.forEach(function(a) { a.style.display = 'none'; });
    
    var mobileDashboard = document.getElementById('mobileDashboard');
    if (mobileDashboard) mobileDashboard.style.display = 'block';
    
    var mobileNavDashboard = document.getElementById('mobileNavDashboard');
    if (mobileNavDashboard) mobileNavDashboard.style.display = 'flex';
}

// Initialize services manager
document.addEventListener('DOMContentLoaded', function() {
    // Services manager will be initialized from jasa-manager.js
});
</script>

</body>
</html>